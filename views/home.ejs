<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- fontawesome cdn -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- bootstrap css link -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <!-- custom css link -->
    <link rel="stylesheet" href="/css/home.css">
    <title><%= title %></title>
</head>
<body>
    <h1 class="text-center my-heading"><%= content %></h1>
    <hr>

    <form class="mx-3" action="/create-task" method="post">
        <label for="description">DESCRIPTION</label>
        <input type="text" name="description" id="description" placeholder="What do you need to do?" required>
        <hr>
        <div class="outer-container">
            <div>
                <label for="category">CATEGORY</label><br>
                <select name="category" id="category" required>
                    <option value="category">Choose a category</option>
                    <option value="personal">Personal</option>
                    <option value="work">Work</option>
                    <option value="school">School</option>
                    <option value="cleaning">Cleaning</option>
                    <option value="others">Others</option>
                </select>
            </div>
            <div>
                <label for="date">DUE DATE</label><br>
                <input type="date" name="date" id="date" required>
            </div>
        </div>
        <hr>
        <br>
        <div class="text-center">
            <button class="btn btn-secondary" type="submit"><i class="fa fa-plus" aria-hidden="true"></i> &nbsp; ADD TASK</button>
        </div>
    </form>



    <ul>
        
        <li>
            <% for(task of task_list){ %>
                <hr>
                <div class="d-flex flex-row justify-content-between">
                <div class="d-flex flex-column" style="margin-left: -1rem;">
                    <h3><%= task.description %></h3>
                    <p>
                        <i class="fa fa-calendar" aria-hidden="true"></i>
                        <%= task.date %>
                    </p>
                </div>
                <div class="d-flex flex-column" style="margin-right: 1.2rem;">
                    <button id="btn-<%= task._id%>" class="btn btn-primary"><%= task.category %></button>
                    <a href="/delete-task/?id=<%= task._id %>">
                        <button class="btn btn-danger mt-2" type="submit"><i class="fa fa-trash" aria-hidden="true"></i> &nbsp; DELETE</button>
                    </a>
                </div>
            </div>
            <% } %>
        </li>


    </ul>

    <!-- bootstrap scripts -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
    <script src="/js/home.js"></script>
</body>
</html>